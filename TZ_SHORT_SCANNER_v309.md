# ============================================================
# –¢–ï–•–ù–ò–ß–ï–°–ö–û–ï –ó–ê–î–ê–ù–ò–ï: Bybit Futures SHORT Scanner + Trainer
# ============================================================
# –í–µ—Ä—Å–∏—è: v309
# –î–∞—Ç–∞: 31.12.2024
# ============================================================

## 1. –û–ë–©–ï–ï –û–ü–ò–°–ê–ù–ò–ï –ü–†–û–ï–ö–¢–ê

### 1.1 –¶–µ–ª—å
–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç –Ω–∞ Bybit Futures 
–¥–ª—è –æ—Ç–∫—Ä—ã—Ç–∏—è SHORT –ø–æ–∑–∏—Ü–∏–π –ø–æ—Å–ª–µ –ø–∞–º–ø-–¥–≤–∏–∂–µ–Ω–∏–π. –í–∫–ª—é—á–∞–µ—Ç:
- –°–∫–∞–Ω–µ—Ä (–ø–æ–∏—Å–∫ –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤)
- Trainer (–±—É–º–∞–∂–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è –¥–ª—è –æ–±—É—á–µ–Ω–∏—è)
- –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ ML (–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è)

### 1.2 –°—Ç—Ä–∞—Ç–µ–≥–∏—è
**–ò–¥–µ—è:** –ü–æ—Å–ª–µ —Å–∏–ª—å–Ω–æ–≥–æ —Ä–æ—Å—Ç–∞ (–ø–∞–º–ø) –º–æ–Ω–µ—Ç—ã —á–∞—Å—Ç–æ –æ—Ç–∫–∞—Ç—ã–≤–∞—é—Ç—Å—è. 
–ò—â–µ–º –º–æ–Ω–µ—Ç—ã –∫–æ—Ç–æ—Ä—ã–µ:
1. –í—ã—Ä–æ—Å–ª–∏ –∑–∞ 24—á (–±–ª–∏–∑–∫–æ –∫ –ª–æ–∫–∞–ª—å–Ω–æ–º—É —Ö–∞—é)
2. –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç –ø—Ä–∏–∑–Ω–∞–∫–∏ –∏—Å—Ç–æ—â–µ–Ω–∏—è —Ä–æ—Å—Ç–∞
3. –ù–∞—á–∏–Ω–∞—é—Ç —Ä–∞–∑–≤–æ—Ä–æ—Ç –≤–Ω–∏–∑

**–¢–∏–ø—ã —Å–∏–≥–Ω–∞–ª–æ–≤:**
- `–†–æ—Å—Ç/–ö–æ—Ä—Ä–µ–∫—Ü–∏—è` ‚Äî —Ä–æ—Å—Ç –æ—Å–ª–∞–±–µ–≤–∞–µ—Ç, –∂–¥—ë–º –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏
- `–ü–∞–º–ø/–ö–æ—Ä—Ä–µ–∫—Ü–∏—è` ‚Äî —Å–∏–ª—å–Ω—ã–π –ø–∞–º–ø, –≤—ã—Å–æ–∫–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –æ—Ç–∫–∞—Ç–∞
- `–ü–ª–∞—Ç–æ/–ü–∞–¥–µ–Ω–∏–µ` ‚Äî –∫–æ–Ω—Å–æ–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —Ö–∞—è—Ö, –Ω–∞—á–∞–ª–æ –ø–∞–¥–µ–Ω–∏—è

### 1.3 –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
```
C:\Pythone\Log_Short\
‚îú‚îÄ‚îÄ _Start.py                 # –õ–∞—É–Ω—á–µ—Ä (–∑–∞–ø—É—Å–∫ —Å–∫–∞–Ω–µ—Ä–∞ + trainer)
‚îú‚îÄ‚îÄ auto-short_v095_with_trainer_bridge.py  # –°–∫–∞–Ω–µ—Ä (–º–æ–Ω–æ–ª–∏—Ç ~3000 —Å—Ç—Ä–æ–∫)
‚îú‚îÄ‚îÄ trainer_live.py           # Trainer Live (–±—É–º–∞–∂–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è)
‚îú‚îÄ‚îÄ keys.py                   # API –∫–ª—é—á–∏ Bybit + Telegram
‚îÇ
‚îú‚îÄ‚îÄ core/                     # –ú–æ–¥—É–ª–∏ —è–¥—Ä–∞ (v309)
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ types.py              # CoinRow dataclass
‚îÇ   ‚îú‚îÄ‚îÄ config.py             # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ bybit_client.py       # API –∫–ª–∏–µ–Ω—Ç Bybit
‚îÇ   ‚îú‚îÄ‚îÄ bridge.py             # –ó–∞–ø–∏—Å—å bridge_snapshot.json
‚îÇ   ‚îú‚îÄ‚îÄ ml_logger.py          # ML –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (signals.jsonl, trades.jsonl)
‚îÇ   ‚îú‚îÄ‚îÄ preselect.py          # –û—Ç–±–æ—Ä TOP200
‚îÇ   ‚îî‚îÄ‚îÄ engine.py             # –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
‚îÇ
‚îú‚îÄ‚îÄ strategies/               # –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ (v309)
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ base.py               # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ short_after_pump.py   # –°—Ç—Ä–∞—Ç–µ–≥–∏—è "–®–æ—Ä—Ç –ø–æ—Å–ª–µ –ø–∞–º–ø–∞"
‚îÇ
‚îú‚îÄ‚îÄ ui/                       # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ chart_window.py       # –û–∫–Ω–æ –≥—Ä–∞—Ñ–∏–∫–æ–≤ (v309)
‚îÇ
‚îú‚îÄ‚îÄ bridge_snapshot.json      # –î–∞–Ω–Ω—ã–µ –¥–ª—è Trainer (–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å–∫–∞–Ω–µ—Ä–æ–º)
‚îú‚îÄ‚îÄ trainer_state.json        # –°–æ—Å—Ç–æ—è–Ω–∏–µ Trainer (–ø–æ–∑–∏—Ü–∏–∏, –±–∞–ª–∞–Ω—Å)
‚îî‚îÄ‚îÄ logs/
    ‚îú‚îÄ‚îÄ signals.jsonl         # ML –ª–æ–≥ —Å–∏–≥–Ω–∞–ª–æ–≤
    ‚îú‚îÄ‚îÄ trades.jsonl          # ML –ª–æ–≥ —Å–¥–µ–ª–æ–∫
    ‚îî‚îÄ‚îÄ trainer_trace.txt     # –¢—Ä–µ–π—Å Trainer
```

---

## 2. –ö–û–ú–ü–û–ù–ï–ù–¢: –°–ö–ê–ù–ï–†

### 2.1 –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- –ó–∞–≥—Ä—É–∑–∫–∞ TOP200 –º–æ–Ω–µ—Ç –ø–æ –æ–±–æ—Ä–æ—Ç—É —Å Bybit
- –†–∞—Å—á—ë—Ç –º–µ—Ç—Ä–∏–∫ –¥–ª—è –∫–∞–∂–¥–æ–π –º–æ–Ω–µ—Ç—ã
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –≤—Ö–æ–¥—É
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ –¥–≤—É—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö
- –ó–∞–ø–∏—Å—å bridge_snapshot.json –¥–ª—è Trainer

### 2.2 –¢–∞–±–ª–∏—Ü–∞ TOP200 (–≤–µ—Ä—Ö–Ω—è—è)
**–ö–æ–ª–æ–Ω–∫–∏:**
| # | –ö–æ–ª–æ–Ω–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|---------|----------|
| 1 | –†–∞–Ω–≥ | –ü–æ–∑–∏—Ü–∏—è –ø–æ –æ–±–æ—Ä–æ—Ç—É |
| 2 | –ú–æ–Ω–µ—Ç–∞ | –°–∏–º–≤–æ–ª (–±–µ–∑ USDT) |
| 3 | –ü–æ–∑–∏—Ü–∏—è % | –ü–æ–ª–æ–∂–µ–Ω–∏–µ —Ü–µ–Ω—ã –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ 24—á (100% = –Ω–∞ —Ö–∞–µ) |
| 4 | –î–æ —Ö–∞—è % | –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ –º–∞–∫—Å–∏–º—É–º–∞ 24—á |
| 5 | 24—á % | –ò–∑–º–µ–Ω–µ–Ω–∏–µ –∑–∞ 24 —á–∞—Å–∞ |
| 6 | –¶–µ–Ω–∞ | –¢–µ–∫—É—â–∞—è —Ü–µ–Ω–∞ |
| 7 | –û–±–æ—Ä–æ—Ç | –û–±–æ—Ä–æ—Ç 24—á –≤ –º–ª–Ω USD |
| 8 | –§–∞–Ω–¥–∏–Ω–≥ | –°—Ç–∞–≤–∫–∞ —Ñ–∏–Ω–∞–Ω—Å–∏—Ä–æ–≤–∞–Ω–∏—è |
| 9 | –ú–∞–∫—Å 24—á | –ú–∞–∫—Å–∏–º—É–º –∑–∞ 24 —á–∞—Å–∞ |
| 10 | –ú–∏–Ω 24—á | –ú–∏–Ω–∏–º—É–º –∑–∞ 24 —á–∞—Å–∞ |

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** –ö–∞–∂–¥—ã–µ 2 –º–∏–Ω—É—Ç—ã (–ø–æ–ª–Ω—ã–π –ø–µ—Ä–µ—Å—á—ë—Ç 200 –º–æ–Ω–µ—Ç)
**–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞:** –ü–æ –ü–æ–∑–∏—Ü–∏—è% (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é), –∫–ª–∏–∫ –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –º–µ–Ω—è–µ—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É

### 2.3 –¢–∞–±–ª–∏—Ü–∞ –ö–∞–Ω–¥–∏–¥–∞—Ç–æ–≤ (–Ω–∏–∂–Ω—è—è)
**–ö–æ–ª–æ–Ω–∫–∏:**
| # | –ö–æ–ª–æ–Ω–∫–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---|---------|----------|
| 1 | –ú–æ–Ω–µ—Ç–∞ | –°–∏–º–≤–æ–ª |
| 2 | –°—Ç–∞—Ç—É—Å | –ù–∞–±–ª—é–¥–µ–Ω–∏–µ / –ò–Ω—Ç–µ—Ä–µ—Å / –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å / –í–•–û–î |
| 3 | –¢–∏–ø —Å–∏–≥–Ω–∞–ª–∞ | –†–æ—Å—Ç/–ö–æ—Ä, –ü–∞–º–ø/–ö–æ—Ä, –ü–ª/–ü–∞–¥ |
| 4 | –°–∏–≥–Ω–∞–ª | –¢–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ |
| 5 | –°–∫–æ—Ä | –û—Ü–µ–Ω–∫–∞ 0-100 |
| 6 | –ü–æ–∑–∏—Ü–∏—è % | –ü–æ–ª–æ–∂–µ–Ω–∏–µ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ |
| 7 | –î–æ —Ö–∞—è % | –î–æ –º–∞–∫—Å–∏–º—É–º–∞ |
| 8 | 24—á % | –ò–∑–º–µ–Ω–µ–Ω–∏–µ 24—á |
| 9 | –§–∞–Ω–¥–∏–Ω–≥ | –°—Ç–∞–≤–∫–∞ |
| 10 | –¶–µ–Ω–∞ | –¢–µ–∫—É—â–∞—è |
| 11 | –í—Ö–æ–¥ | –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Ü–µ–Ω–∞ –≤—Ö–æ–¥–∞ |
| 12 | SL | Stop Loss |
| 13 | TP1 | Take Profit 1 |
| 14 | R/R | Risk/Reward ratio |
| 15 | –û–±–æ—Ä–æ—Ç | –û–±–æ—Ä–æ—Ç 24—á |
| 16 | –í —Å–ø–∏—Å–∫–µ | –°–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç –≤ –∫–∞–Ω–¥–∏–¥–∞—Ç–∞—Ö |
| 17 | –û—Å—Ç–∞–ª–æ—Å—å | –°–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç –¥–æ —É–¥–∞–ª–µ–Ω–∏—è |

**–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** –ö–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
**TTL:** –ú–æ–Ω–µ—Ç—ã —É–¥–∞–ª—è—é—Ç—Å—è —á–µ—Ä–µ–∑ 30 –º–∏–Ω—É—Ç (–∫—Ä–æ–º–µ —Å—Ç–∞—Ç—É—Å–∞ –í–•–û–î)

### 2.4 –°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞—Ç—É—Å–æ–≤
```
–ù–∞–±–ª—é–¥–µ–Ω–∏–µ ‚Üí –ò–Ω—Ç–µ—Ä–µ—Å ‚Üí –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å ‚Üí –í–•–û–î
     ‚Üì           ‚Üì          ‚Üì          ‚Üì
  Score<30   Score 30-50  Score 50-70  Score>70 + –≤—Å–µ —É—Å–ª–æ–≤–∏—è
```

**–£—Å–ª–æ–≤–∏—è –¥–ª—è –í–•–û–î:**
1. –ë–ª–∏–∑–∫–æ –∫ —Ö–∞—é (dist_high < 3%)
2. –ò—Å—Ç–æ—â–µ–Ω–∏–µ —Ä–æ—Å—Ç–∞ (exhaustion > 0.3)
3. –¢—Ä–µ–Ω–¥ –≤–Ω–∏–∑ (trend_1h < 0)
4. –°–ª–∞–±–µ–µ BTC (btc_div < 0)
5. –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –æ–±—ä—ë–º–æ–º

### 2.5 –¢–∞–π–º–µ—Ä—ã –∏ —Å—á—ë—Ç—á–∏–∫–∏ (–¢–†–ï–ë–£–ï–¢–°–Ø –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø)
- **–í–µ—Ä—Ö–Ω—è—è —Ç–∞–±–ª–∏—Ü–∞:** –°—á—ë—Ç—á–∏–∫ "–ü–µ—Ä–µ—Å—á—ë—Ç —á–µ—Ä–µ–∑: 120 —Å–µ–∫ ‚Üí 0"
  - –ü—Ä–∏ 0 –∑–∞–≥–æ—Ä–∞–µ—Ç—Å—è –∂—ë–ª—Ç—ã–º "üîÑ –ü–ï–†–ï–°–ß–Å–¢..."
  - –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≥–∞—Å–Ω–µ—Ç
  
- **–ù–∏–∂–Ω—è—è —Ç–∞–±–ª–∏—Ü–∞:** –°—á—ë—Ç—á–∏–∫ "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑: 10 —Å–µ–∫ ‚Üí 0"
  - –ü—Ä–∏ 0 –∑–∞–≥–æ—Ä–∞–µ—Ç—Å—è –∂—ë–ª—Ç—ã–º "üîÑ –ü–ï–†–ï–°–ß–Å–¢..."

### 2.6 –î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ ‚Üí –ì—Ä–∞—Ñ–∏–∫ (–¢–†–ï–ë–£–ï–¢–°–Ø –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï)
–ü—Ä–∏ –¥–≤–æ–π–Ω–æ–º –∫–ª–∏–∫–µ –Ω–∞ –º–æ–Ω–µ—Ç—É –≤ –ª—é–±–æ–π —Ç–∞–±–ª–∏—Ü–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –æ–∫–Ω–æ –≥—Ä–∞—Ñ–∏–∫–∞.

---

## 3. –ö–û–ú–ü–û–ù–ï–ù–¢: TRAINER LIVE

### 3.1 –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
–ë—É–º–∞–∂–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è –¥–ª—è:
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –±–µ–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–µ–Ω–µ–≥
- –°–±–æ—Ä–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (Win Rate, PnL)
- –û–±—É—á–µ–Ω–∏—è ML –º–æ–¥–µ–ª–∏

### 3.2 –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–¥–µ–ª–æ–∫
```python
INITIAL_BALANCE = 1000.0   # –ù–∞—á–∞–ª—å–Ω—ã–π –±–∞–ª–∞–Ω—Å
TRADE_AMOUNT = 100.0       # –†–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–∏
MAX_POSITIONS = 3          # –ú–∞–∫—Å–∏–º—É–º –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏–π

SL_PCT = 2.5              # Stop Loss %
TP1_PCT = 1.5             # Take Profit 1 %
TP2_PCT = 3.0             # Take Profit 2 %
TIMEOUT_SEC = 4 * 3600    # –¢–∞–π–º–∞—É—Ç 4 —á–∞—Å–∞

MIN_LEVERAGE = 5.0        # –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –ø–ª–µ—á–æ
MAX_LEVERAGE = 20.0       # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –ø–ª–µ—á–æ
```

### 3.3 –õ–æ–≥–∏–∫–∞ –≤—Ö–æ–¥–∞
1. –ß–∏—Ç–∞–µ—Ç bridge_snapshot.json (–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å–∫–∞–Ω–µ—Ä–æ–º)
2. –§–∏–ª—å—Ç—Ä—É–µ—Ç –ø–æ —Å—Ç–∞—Ç—É—Å—É: –¢–û–õ–¨–ö–û "–ò–Ω—Ç–µ—Ä–µ—Å", "–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å", "–í–•–û–î"
3. –°–æ—Ä—Ç–∏—Ä—É–µ—Ç –ø–æ score (–≤—ã—à–µ = –ª—É—á—à–µ)
4. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç –¥–æ 3 –ø–æ–∑–∏—Ü–∏–π

### 3.4 –õ–æ–≥–∏–∫–∞ –≤—ã—Ö–æ–¥–∞
- **SL:** –¶–µ–Ω–∞ >= entry * (1 + SL_PCT/100) ‚Üí –∑–∞–∫—Ä—ã—Ç—å —Å —É–±—ã—Ç–∫–æ–º
- **TP1:** –¶–µ–Ω–∞ <= entry * (1 - TP1_PCT/100) ‚Üí –∑–∞–∫—Ä—ã—Ç—å 50%
- **TP2:** –¶–µ–Ω–∞ <= entry * (1 - TP2_PCT/100) ‚Üí –∑–∞–∫—Ä—ã—Ç—å –æ—Å—Ç–∞—Ç–æ–∫
- **Timeout:** –í—Ä–µ–º—è > 4 —á–∞—Å–∞ ‚Üí –∑–∞–∫—Ä—ã—Ç—å –ø–æ —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω–µ

### 3.5 –¢–∞–±–ª–∏—Ü–∞ –ø–æ–∑–∏—Ü–∏–π
| –ú–æ–Ω–µ—Ç–∞ | –°—Ç–∞—Ç—É—Å | –¢–∏–ø | –í—Ö–æ–¥ | –¢–µ–∫—É—â–∞—è | SL | TP1 | PnL% | PnL$ | –ü–ª–µ—á–æ | –í—Ä–µ–º—è |

### 3.6 –¢–∞–±–ª–∏—Ü–∞ –∏—Å—Ç–æ—Ä–∏–∏
| –í—Ä–µ–º—è | –ú–æ–Ω–µ—Ç–∞ | –î–µ–π—Å—Ç–≤–∏–µ | –°—Ç–∞—Ç—É—Å | –°–∫–æ—Ä | –¢–∏–ø | –í—Ö–æ–¥ | –í—ã—Ö–æ–¥ | –ü–ª–µ—á–æ | PnL% | –ü—Ä–æ—Ñ–∏—Ç$ | –ë–∞–ª–∞–Ω—Å | –ü—Ä–∏—á–∏–Ω–∞ |

---

## 4. –ö–û–ú–ü–û–ù–ï–ù–¢: –û–ö–ù–û –ì–†–ê–§–ò–ö–û–í (ui/chart_window.py)

### 4.1 –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å
```
üîµ BTCUSDT ‚îÇ –ò–Ω—Ç–µ—Ä–µ—Å ‚îÇ –°–∫–æ—Ä: 72 ‚îÇ –†–æ—Å—Ç/–ö–æ—Ä—Ä–µ–∫—Ü–∏—è
–¶–µ–Ω–∞: 43,250 ‚îÇ 24—á: +5.2% ‚îÇ –î–æ —Ö–∞—è: 2.1% ‚îÇ R/R: 1.8
üìà –¢—Ä–µ–Ω–¥ 3—á: ‚ñ≤ –†–æ—Å—Ç +0.8% ‚îÇ –¢—Ä–µ–Ω–¥ 24—á: ‚ñ≤‚ñ≤ –°–∏–ª—å–Ω—ã–π —Ä–æ—Å—Ç
üåç –†—ã–Ω–æ–∫: –ë—ã—á–∏–π ‚îÇ BTC: +2.1% ‚îÇ –ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è: —Å–ª–∞–±–∞—è
üéØ –ó—Ä–µ–ª–æ—Å—Ç—å: 75%
–ñ–¥—ë–º: –ø—Ä–æ–±–æ–π –ø–æ–¥–¥–µ—Ä–∂–∫–∏ 42,800 –∏ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –Ω–∏–∂–µ
‚úì –ò—Å—Ç–æ—â–µ–Ω–∏–µ ‚îÇ ‚úì –ë–ª–∏–∑–∫–æ –∫ —Ö–∞—é ‚îÇ ‚úó –ù–µ—Ç –ø—Ä–æ–±–æ—è –≤–Ω–∏–∑
```

### 4.2 –ì—Ä–∞—Ñ–∏–∫
- –°–≤–µ—á–∏ (–∑–µ–ª—ë–Ω—ã–µ/–∫—Ä–∞—Å–Ω—ã–µ)
- –£—Ä–æ–≤–Ω–∏ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è (–∫—Ä–∞—Å–Ω—ã–π –ø—É–Ω–∫—Ç–∏—Ä)
- –£—Ä–æ–≤–Ω–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ (–∑–µ–ª—ë–Ω—ã–π –ø—É–Ω–∫—Ç–∏—Ä)
- –õ–æ–∫–∞–ª—å–Ω—ã–µ –º–∞–∫—Å–∏–º—É–º—ã (–∂—ë–ª—Ç—ã–µ —Ç–æ—á–∫–∏)
- –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å –ø–æ–∑–∏—Ü–∏—è)
- –û–±—ä—ë–º (–≥–∏—Å—Ç–æ–≥—Ä–∞–º–º–∞ –≤–Ω–∏–∑—É)

### 4.3 –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–∞–π–º—Ñ—Ä–µ–π–º–æ–≤
–ö–Ω–æ–ø–∫–∏: [15–º] [1—á] [4—á] [24—á] [7–¥]
–ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏: 1-5

---

## 5. ML –õ–û–ì–ò–†–û–í–ê–ù–ò–ï

### 5.1 signals.jsonl
–ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ ‚Äî —Å–∏–≥–Ω–∞–ª —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏:
```json
{
  "ts": 1703980800,
  "symbol": "BTCUSDT",
  "status": "–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å",
  "score": 72,
  "watch_type": "–ü–∞–º–ø/–ö–æ—Ä—Ä–µ–∫—Ü–∏—è",
  "features": {
    "range_position": 95.2,
    "dist_high_pct": 1.8,
    "change_24h": 12.5,
    "exhaustion": 0.45,
    "trend_1h": -0.02,
    "trend_3h": 0.01,
    "btc_div_1h": -0.5,
    "funding_rate": 0.01
  }
}
```

### 5.2 trades.jsonl
–ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ ‚Äî –∑–∞–≤–µ—Ä—à—ë–Ω–Ω–∞—è —Å–¥–µ–ª–∫–∞:
```json
{
  "ts_open": 1703980800,
  "ts_close": 1703984400,
  "symbol": "BTCUSDT",
  "entry_price": 43250.0,
  "exit_price": 42900.0,
  "pnl_pct": 0.81,
  "pnl_usd": 8.10,
  "reason": "TP1_HIT",
  "features_at_entry": {...}
}
```

---

## 6. –¢–ï–ö–£–©–ï–ï –°–û–°–¢–û–Ø–ù–ò–ï

### 6.1 –ß–¢–û –†–ê–ë–û–¢–ê–ï–¢ ‚úÖ
- [x] –°–∫–∞–Ω–µ—Ä –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç TOP200
- [x] –í–µ—Ä—Ö–Ω—è—è —Ç–∞–±–ª–∏—Ü–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –º–æ–Ω–µ—Ç—ã
- [x] –ù–∏–∂–Ω—è—è —Ç–∞–±–ª–∏—Ü–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∫–∞–Ω–¥–∏–¥–∞—Ç–æ–≤
- [x] Bridge_snapshot.json —Å–æ–∑–¥–∞—ë—Ç—Å—è –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
- [x] Trainer –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏ —á–∏—Ç–∞–µ—Ç bridge
- [x] –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ core/ —Å–æ–∑–¥–∞–Ω–∞
- [x] ui/chart_window.py —Å–æ–∑–¥–∞–Ω

### 6.2 –¢–ï–ö–£–©–ò–ï –û–®–ò–ë–ö–ò ‚ùå

#### –û—à–∏–±–∫–∞ 1: –î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
**–°–∏–º–ø—Ç–æ–º:** –ü—Ä–∏ –¥–≤–æ–π–Ω–æ–º –∫–ª–∏–∫–µ –Ω–∞ –º–æ–Ω–µ—Ç—É –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞. –ú–µ—Ç–æ–¥ `_on_table_double_click` –æ–ø—Ä–µ–¥–µ–ª—ë–Ω, —Å–∏–≥–Ω–∞–ª –ø–æ–¥–∫–ª—é—á–µ–Ω.
**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –Ω—É–∂–Ω–∞:** 
- –°—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ª–∏ —Å–∏–≥–Ω–∞–ª cellDoubleClicked?
- –î–æ—Ö–æ–¥–∏—Ç –ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –¥–æ –º–µ—Ç–æ–¥–∞?
- –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è –ª–∏ chart_window?

#### –û—à–∏–±–∫–∞ 2: –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫—É –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
**–°–∏–º–ø—Ç–æ–º:** –ö–ª–∏–∫ –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç–æ–ª–±—Ü–∞ –Ω–µ –º–µ–Ω—è–µ—Ç —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É
**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞. –ú–µ—Ç–æ–¥ `on_header_clicked` –æ–ø—Ä–µ–¥–µ–ª—ë–Ω.
**–î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –Ω—É–∂–Ω–∞:**
- –°—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ª–∏ —Å–∏–≥–Ω–∞–ª sectionClicked?

#### –û—à–∏–±–∫–∞ 3: –ù–µ—Ç —Å—á—ë—Ç—á–∏–∫–∞ —Ç–∞–π–º–µ—Ä–∞
**–°–∏–º–ø—Ç–æ–º:** –ù–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è "–ü–µ—Ä–µ—Å—á—ë—Ç —á–µ—Ä–µ–∑: XX —Å–µ–∫"
**–ü—Ä–∏—á–∏–Ω–∞:** –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –Ω–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
**–¢—Ä–µ–±—É–µ—Ç—Å—è:** –î–æ–±–∞–≤–∏—Ç—å QTimer –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –æ—Ç—Å—á—ë—Ç–∞

#### –û—à–∏–±–∫–∞ 4: Trainer ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ UI —Å–ª–æ–º–∞–Ω–∞
**–°–∏–º–ø—Ç–æ–º:** –ü–æ—Å–ª–µ –ø—Ä–∞–≤–æ–∫ UI –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
**–ü—Ä–∏—á–∏–Ω–∞:** –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ trainer_live.py v25
**–¢—Ä–µ–±—É–µ—Ç—Å—è:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å _build_ui()

---

## 7. –ü–õ–ê–ù –ò–°–ü–†–ê–í–õ–ï–ù–ò–ô

### –®–∞–≥ 1: –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ —Å–∫–∞–Ω–µ—Ä–∞
1. –î–æ–±–∞–≤–∏—Ç—å print-–ª–æ–≥–∏ –≤ –∫–ª—é—á–µ–≤—ã–µ –º–µ—Å—Ç–∞
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤ Qt
3. –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≥–¥–µ "–æ–±—Ä—ã–≤–∞–µ—Ç—Å—è" –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

### –®–∞–≥ 2: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –¥–≤–æ–π–Ω–æ–π –∫–ª–∏–∫
–ü–æ—Å–ª–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ ‚Äî —Ç–æ—á–µ—á–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –®–∞–≥ 3: –ò—Å–ø—Ä–∞–≤–∏—Ç—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É
–ü–æ—Å–ª–µ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ ‚Äî —Ç–æ—á–µ—á–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –®–∞–≥ 4: –î–æ–±–∞–≤–∏—Ç—å —Å—á—ë—Ç—á–∏–∫–∏ —Ç–∞–π–º–µ—Ä–æ–≤
–ù–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª ‚Äî –æ—Ç–¥–µ–ª—å–Ω—ã–π –ø–∞—Ç—á

### –®–∞–≥ 5: –ò—Å–ø—Ä–∞–≤–∏—Ç—å Trainer UI
–û—Ç–¥–µ–ª—å–Ω–∞—è –∑–∞–¥–∞—á–∞ –ø–æ—Å–ª–µ —Å–∫–∞–Ω–µ—Ä–∞

---

## 8. –§–ê–ô–õ–´ –î–õ–Ø –ü–ï–†–ï–î–ê–ß–ò –í –ù–û–í–£–Æ –í–ï–¢–ö–£

1. **auto-short_v095_with_trainer_bridge.py** ‚Äî —Å–∫–∞–Ω–µ—Ä (–º–æ–Ω–æ–ª–∏—Ç)
2. **trainer_live.py** ‚Äî trainer
3. **ui/chart_window.py** ‚Äî –º–æ–¥—É–ª—å –≥—Ä–∞—Ñ–∏–∫–æ–≤
4. **core/*.py** ‚Äî –º–æ–¥—É–ª–∏ —è–¥—Ä–∞ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è)
5. **–≠—Ç–æ –¢–ó** ‚Äî –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

---

## 9. –ö–û–ù–¢–ê–ö–¢–´ –ò –°–°–´–õ–ö–ò

- **Bybit API:** https://bybit-exchange.github.io/docs/v5/intro
- **PySide6 Docs:** https://doc.qt.io/qtforpython-6/
- **–ü–∞–ø–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞:** C:\Pythone\Log_Short\

---

*–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω: 31.12.2024*
*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: v309*
